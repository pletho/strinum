# Strinum 선언문 0.1


### 공식 명칭 제안

본 선언문에서는 Strinum의 철학적 기반과 자연어 기반 선언 흐름의 정체성을 강화하기 위하여,
공식 명칭으로 **Strinum** (*스트린스트럼*)을 제안한다.

> 🪕 *Strinum*은 'String-Instrument Universal Method'의 약어이자, '현악기를 연주하듯 문자열 흐름을 선언하고 조율한다'는 의미를 담은 상징적 언어명이다.
> 이 언어를 다루는 사람은 마치 작곡가이자 연주자이며, 흐름의 선율을 짜는 설계자이다.

이 명칭은 기술적 언어 그 자체를 넘어, 사람과 시스템의 감각적인 연결을 지향하는 Strinum의 세계관을 담고 있다.

Strinum은 NL-DSL의 파생변경된 트리구조언어이다. 

**NL-DSL**은 *Natural Language - Domain Specific Language*의 약자로,
"자연어 기반 도메인 특화 언어"를 뜻한다.

이 선언문에서 Strinum은 한국어 사용자 중심의 구조로 시작되며,
다른 나라에서는 각자의 언어로 동일한 구조를 해석하여 사용할 수 있도록 열려 있다.

이는  **사람이 스스로 이해하고 선언할 수 있는 프로그램 구조를 만들기 위한 언어 설계 철학의 기초 용어**이다.

---

## 철학적 정의

### 언어의 시작은 틀이 아니라, 관점이다

Strinum은 사람이 흐름을 이해하고, 역할을 정하고, 이름을 부여하는 행위로부터 출발한 **개념적 선언의 집합체**이다.

이 선언문은 다음의 전제를 담고 있다:

---

### 1. Strinum은 문법이 아니라 **표현 체계**이다

* 기계가 이해할 수 있도록 쓰는 것이 아니라,
  사람이 자연스럽게 흐름을 그릴 수 있도록 쓰는 것이다.
* 명령어 대신 선언문, 함수 대신 이름붙인 역할,
  코딩 대신 문장과 목차의 구조로 구성된다.

---

### 2. Strinum은 \*\*‘책을 쓰듯 프로그램을 작성’\*\*하는 개념 언어다

* 목차는 프로그램의 전체 계획이다
* 각 장(대분류)은 기능 그룹,
* 절(중분류)은 흐름의 단위,
* 항(소분류)은 실행되는 선언들이다
* 참조는 외부의 도구나 선언을 뜻한다

---

### 3. Strinum의 \*\*‘선언’\*\*은 실행보다 우선이다

* 우리는 결과보다 개념을 먼저 선언한다
* 선언된 개념은 문장처럼 읽히고,
  역할을 가지며,
  흐름에 따라 움직인다
* alias, 선언, 별칭 등은 모두 사용자가 만든 언어의 일부다

---

### 4. Strinum은 **형식보다 자유를 우선**한다

* 정형화된 구조는 지양한다
* 그러나 흐름을 구성하고 이해할 수 있는 최소한의 틀은 제공한다
* 문장은 곧 흐름이며, 흐름은 곧 프로그램이다

---

### 5. Strinum은 \*\*‘내가 만든 DSL’\*\*이다

* 나는 선언할 수 있고,
  선언된 것은 실행될 수 있으며,
  실행은 곧 나의 의도이자 구조이다

---

> "Strinum은 도구가 아니라, 설계자의 언어다."
> 그것은 코드를 넘어선 언어이며,
> 내가 지시하고, 선언하며, 흐름을 만들어내는 언어이다.

---

## 실행 구조: 목차 기반 트리 모델

Strinum의 실행 구조는 책의 목차와 같은 계층적 흐름으로 구성된다.

```
📘 목차 (Main Program)
├─ 📂 대분류: 기능 영역
│  ├─ 📁 중분류: 흐름 단위 또는 처리 블록
│  │  ├─ 🧩 소분류: 실행 선언 (함수/조건/반복/출력 등)
│  │  └─ 🧩 소분류: 또 다른 세부 선언
│  └─ 참조: 외부 선언/alias 참조
└─ 📎 메타정보: 설명, 주석, 설정
```

### 예시 트리 구조

```
📘 계획: 쇼핑몰 할인 시스템
├─ 📂 대분류: 사용자 안내
│  ├─ 📁 중분류: 접속 시 메시지
│  │  ├─ 출력: 텍스트("어서오세요!")
│  │  └─ 출력: 텍스트("지금은 20% 세일 중입니다")
├─ 📂 대분류: 할인 정책
│  ├─ 📁 중분류: 요일별 정책
│  │  └─ 조건: 오늘이 금요일이라면 → 할인율=20%
│  ├─ 📁 중분류: 회원 등급별 정책
│  │  └─ 조건: 등급=VIP → 추가할인=10%
├─ 📂 대분류: 출력
│  └─ 소분류: 출력: 텍스트(내용={최종할인})
└─ 참조: 할인계산.alias
```

이 구조는 사람이 '읽을 수 있는 흐름'을 기준으로 구성되며,
자동 변환을 통해 DSL → 코드 → 실행 흐름으로 연결된다.

---

## alias 모듈화 구조

Strinum의 alias는 문장 또는 역할 단위를 추상화한 "선언적 별칭"이다. 이를 통해 반복되는 블록을 외부 모듈화하거나, DSL의 재사용성과 구조적 명료성을 확보할 수 있다.

### 기본 문법

```
alias: 별칭명 = {
  → 실행문1
  → 실행문2
  ...
}
```

또는 외부 파일로 분리 가능:

```
참조: 할인계산.alias
```

### 예시: 할인 계산 블록

```
alias: 할인계산 = {
  조건: 요일 == '금요일' → 할인율 = 20
  조건: 등급 == 'VIP' → 추가할인 = 10
  계산: 최종할인 = 할인율 + 추가할인
}
```

### 모듈화와 불러오기

* alias는 단일 DSL 파일 내에 선언하거나
* 외부 `.alias`, `.dsl` 파일로 분리하여 `참조:` 키워드로 불러올 수 있다

### 파서 동작 방식

* 실행 시 `alias:`는 선언 테이블에 등록
* 호출 시 내부 DSL 블록을 치환하여 흐름에 삽입
* 매개변수가 있는 경우 `{}` 형태의 키워드로 전달

### 효과

* DSL의 반복 제거
* 역할 기반 분리
* 선언적 재사용 구조 구축

---

## 조건 및 반복 흐름 DSL 예시 정리

Strinum은 조건과 반복을 **문장 구조**와 **자연어 흐름**으로 표현한다.
조건은 분기를, 반복은 반복 흐름을 자연스럽게 선언하도록 구성된다.

### 조건문 예시

```
조건: 오늘 == '금요일' → 출력: 텍스트("불금입니다!")
조건: 등급 == 'VIP' → 할인율 = 20
조건: 포인트 > 1000 → 출력: 텍스트("포인트 보너스 지급")
조건: 값이 없으면 → 출력: 텍스트("데이터 없음")
```

### 반복문 예시

```
반복: 5회 → 출력: 텍스트("반복 실행 중...")
반복: 각 상품 in 상품목록 → 출력: 텍스트(내용={상품.이름})
반복: 숫자 in [1,2,3] → 계산: 제곱 = 숫자 * 숫자
```

### 중첩 조건 및 반복

```
반복: 10회 → {
  조건: 반복번호 % 3 == 0 → 출력: 텍스트("3의 배수입니다")
  조건: 반복번호 == 5 → 중단
}
```

### 조건/반복 흐름 시 주의사항

* 조건문은 `→` 이후 단일 선언 또는 블록으로 처리
* 반복문 내 조건, 반복번호, 리스트 접근 등을 지원함
* 병렬 조건은 추후 `병렬:` 또는 `모두만족:` 확장으로 적용 가능

---

## 파서 설계 흐름도

Strinum의 파서는 문장을 해석하여 실행 가능한 구조로 변환한다.
이 과정은 다음의 주요 단계로 이루어진다:

### 📘 1. 입력 수신 (Input Phase)

* 사용자로부터 자연어 또는 DSL 문장을 수신
* 형태: 자유 문장, DSL 선언식, 또는 하이브리드 입력

### 🧠 2. 전처리 (Preprocessing)

* 주석 제거, 공백 정리, 줄바꿈 통일
* DSL 키워드 및 문장 패턴 정규화

### 🧾 3. 선언 구문 분석 (Declaration Parsing)

* DSL 트리 구조 파싱
* alias, 반복, 조건 등 식별
* 각 선언 블록을 노드 형태로 트리 구성

### 🔁 4. 실행 흐름 구성 (Flow Structuring)

* 조건 분기, 반복, 함수 호출 등으로 트리 정제
* 스코프, 변수 영역, 상호 참조 처리

### 🧩 5. 실행 언어 변환 (DSL → 코드)

* 선택된 언어(JS/Python 등)로 실행 가능한 코드 생성
* 모듈화, 인젝션 처리

### 🧪 6. 실행 및 결과 반환

* 내부 시뮬레이션 또는 외부 엔진 실행
* 로그, 에러, 반환값 관리

### 예시 흐름 시각화

```
[사용자입력] 
    ↓
[전처리 및 구문 분석] 
    ↓
[트리 구성 및 선언 해석] 
    ↓
[조건/반복 흐름 정제] 
    ↓
[실행 코드 변환] 
    ↓
[실행 결과 반환 및 저장]
```

### 향후 확장 고려 요소

* 병렬 파싱 및 멀티 DSL 해석
* 파서의 지속학습을 위한 DSL 사용 로그 피드백 구조
* 입력 문맥 힌트 기반 스마트한 해석 구조 (ex. 뉴스 vs PLC vs UI)

---

## 병렬 처리 DSL 구조 정의

Strinum은 선언형 구조로 병렬 실행을 명시할 수 있으며, 다음과 같은 패턴으로 병렬성을 표현할 수 있다.

### 병렬 키워드

* `병렬:` 또는 `함께:` → 선언 블록 내 항목들을 동시에 실행하도록 지정

### 기본 구조 예시

```
병렬: {
  출력: 텍스트("1번 실행")
  출력: 텍스트("2번 실행")
  계산: 합계 = 가격 + 세금
}
```

### 순차와 병렬의 조합

```
순차: {
  출력: 텍스트("준비 시작")
  병렬: {
    다운로드: 파일 A
    다운로드: 파일 B
  }
  출력: 텍스트("모든 다운로드 완료")
}
```

### 병렬 + 조건

```
병렬: {
  조건: 상태 == '정상' → 출력: 텍스트("정상 처리 시작")
  조건: 상태 != '정상' → 출력: 텍스트("예외 처리 진행")
}
```

### 병렬 반복 처리 예시

```
병렬반복: 상품 in 상품목록 → 출력: 텍스트("{상품.이름} 처리 중")
```

### 병렬 처리 시 내부 규칙

* 기본적으로 각 병렬 항목은 **비차단**, **동시 시작**, **별도 결과 보존**
* `병렬결과:` 블록을 활용해 결과를 집계하거나 대기할 수 있음

```
병렬: {
  계산: A = 1 + 2
  계산: B = 3 * 4
}
병렬결과: 출력: 텍스트("A:{A}, B:{B}")
```

### 향후 고려 사항

* 병렬 처리 우선순위, 제한량 설정
* 실패 허용 여부 (`복구:`, `무시:` 등과의 조합)
* 병렬 내 예외 처리 정책

---
